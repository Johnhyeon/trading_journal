<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코인 매매일지</title>
    <link rel="stylesheet" href="style.css">
    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js' defer></script>
</head>
<body>

    <div class="container">
        <header>
            <h1>코인 매매일지</h1>
            <p>각 매매기록의 스크린샷을 업로드하여</p>
            <p>간편하게 일지를 작성하세요.</p>
        </header>

        <main>
            <details class="how-to-guide">
                <summary>📖 사용방법 보기 / 숨기기</summary>
                <div class="guide-content">
                    <p><strong>거래소:</strong> BingX 기준 (타 거래소 미지원)</p>
                    
                    <h3>매매내역 캡쳐하는 방법</h3>
                    <ol>
                        <li>BingX 거래소 어플을 켭니다. </li>
                        <li>하단 Futures 메뉴를 클릭 합니다. </li>
                        <li>오른쪽 상단 서류 모양 아이콘을 클릭합니다.
                            <img src="images/2-3번관련.jpg" alt="Futures 메뉴 및 내역 아이콘">
                        </li>
                        <li>상단 Trade History 탭을 클릭한다.
                            <img src="images/4번관련.jpg" alt="Trade History 탭">
                        </li>
                        <li>Close 된 거래 중 매매일지를 작성 할 거래 내역을 캡쳐하여, 아래 사진처럼 필요한 부분만 남도록 리사이징(자르기) 합니다.
                            <img src="images/5번관련.jpg" alt="최종 캡쳐 예시">
                    </ol>

                    <h3>매매일지 페이지 사용 법</h3>
                    <ol>
                        <li>금일 매매 전 잔고를 입력합니다. </li>
                        <li>n차 매매의 '파일 선택'을 누릅니다. </li>
                        <li>리사이징 한 매매내역 사진을 선택합니다. (대부분의 정보가 자동입력 됩니다) </li>
                        <li>포지션 선택, 진입 근거 입력, 익손절 라인 입력, 복기 내용을 수동으로 입력합니다. </li>
                        <li>필요 시 2, 3차 매매에 대해 위 과정을 반복합니다. </li>
                        <li>맨 밑 버튼을 누르면 모바일의 경우 클립보드에 복사되고, PC의 경우 텍스트 파일로 저장됩니다. </li>
                    </ol>
                </div>
            </details>

            <div id="journal-content">
                <section class="card">
                    <h2>기본 정보</h2>
                    <div class="form-group-inline">
                        <label for="trade-date">📅 날짜:</label>
                        <input type="date" id="trade-date" required>
                        <label for="initial-balance">· 잔고(USDT):</label>
                        <input type="number" id="initial-balance" placeholder="시작 잔고 입력" step="0.01" required>
                    </div>
                </section>

                <section class="card trade-log">
                    <h3>✅ 1차 매매</h3>
                    <div class="form-group no-trade-group">
                        <input type="checkbox" class="no-trade-checkbox" id="no-trade-1" data-slot="1">
                        <label for="no-trade-1">매매 없음</label>
                    </div>
                    <div class="trade-fields-container" id="trade-fields-1">
                        <div class="upload-area">
                            <input type="file" class="trade-image-upload" data-slot="1" accept="image/*">
                            <div class="status" id="status-1"></div>
                        </div>
                        <div class="form-group">
                            <label>· 진입시간:</label>
                            <input type="text" id="entry-time-1" placeholder="자동 입력">
                        </div>
                        <div class="form-group-inline coin-position-group">
                            <label>· 진입코인:</label>
                            <input type="text" id="coin-1" placeholder="자동 입력">
                            <label>· 포지션:</label>
                            <select id="position-1" class="position-select">
                                <option value="">선택</option>
                                <option value="롱">롱</option>
                                <option value="숏">숏</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>· 레버리지/비중:</label>
                            <input type="text" id="leverage-1" placeholder="자동 입력 / 수동 입력">
                        </div>
                        <div class="form-group">
                            <label>· 진입 근거:</label>
                            <textarea id="entry-reason-1" rows="3">- 볼린저밴드 상태: 
- RSI 지수: </textarea>
                        </div>
                        <div class="form-group-inline">
                            <label>· 익절(%):</label>
                            <input type="number" id="tp-1" placeholder="예: 10">
                            <label>· 손절(%):</label>
                            <input type="number" id="sl-1" placeholder="예: -5">
                        </div>
                        <div class="form-group-inline">
                            <label>· 결과:</label>
                            <input type="text" id="pnl-ratio-1" placeholder="%" readonly>
                            <input type="text" id="realized-pnl-1" placeholder="USDT" readonly>
                        </div>
                         <div class="form-group">
                            <label>· 복기:</label>
                            <textarea id="review-1" rows="3"></textarea>
                        </div>
                    </div>
                </section>

                <section class="card trade-log">
                    <h3>✅ 2차 매매</h3>
                    <div class="form-group no-trade-group">
                        <input type="checkbox" class="no-trade-checkbox" id="no-trade-2" data-slot="2">
                        <label for="no-trade-2">매매 없음</label>
                    </div>
                    <div class="trade-fields-container" id="trade-fields-2">
                        <div class="upload-area">
                            <input type="file" class="trade-image-upload" data-slot="2" accept="image/*">
                            <div class="status" id="status-2"></div>
                        </div>
                        <div class="form-group">
                            <label>· 진입시간:</label>
                            <input type="text" id="entry-time-2" placeholder="자동 입력">
                        </div>
                         <div class="form-group-inline coin-position-group">
                            <label>· 진입코인:</label>
                            <input type="text" id="coin-2" placeholder="자동 입력">
                            <label>· 포지션:</label>
                            <select id="position-2" class="position-select">
                                <option value="">선택</option>
                                <option value="롱">롱</option>
                                <option value="숏">숏</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>· 레버리지/비중:</label>
                            <input type="text" id="leverage-2" placeholder="자동 입력 / 수동 입력">
                        </div>
                        <div class="form-group">
                            <label>· 진입 근거:</label>
                            <textarea id="entry-reason-2" rows="3">- 볼린저밴드 상태: 
- RSI 지수: </textarea>
                        </div>
                        <div class="form-group-inline">
                            <label>· 익절(%):</label>
                            <input type="number" id="tp-2" placeholder="예: 10">
                            <label>· 손절(%):</label>
                            <input type="number" id="sl-2" placeholder="예: -5">
                        </div>
                        <div class="form-group-inline">
                            <label>· 결과:</label>
                            <input type="text" id="pnl-ratio-2" placeholder="%" readonly>
                            <input type="text" id="realized-pnl-2" placeholder="USDT" readonly>
                        </div>
                         <div class="form-group">
                            <label>· 복기:</label>
                            <textarea id="review-2" rows="3"></textarea>
                        </div>
                    </div>
                </section>

                <section class="card trade-log">
                    <h3>✅ 3차 매매</h3>
                    <div class="form-group no-trade-group">
                        <input type="checkbox" class="no-trade-checkbox" id="no-trade-3" data-slot="3">
                        <label for="no-trade-3">매매 없음</label>
                    </div>
                    <div class="trade-fields-container" id="trade-fields-3">
                        <div class="upload-area">
                            <input type="file" class="trade-image-upload" data-slot="3" accept="image/*">
                            <div class="status" id="status-3"></div>
                        </div>
                        <div class="form-group">
                            <label>· 진입시간:</label>
                            <input type="text" id="entry-time-3" placeholder="자동 입력">
                        </div>
                         <div class="form-group-inline coin-position-group">
                            <label>· 진입코인:</label>
                            <input type="text" id="coin-3" placeholder="자동 입력">
                            <label>· 포지션:</label>
                            <select id="position-3" class="position-select">
                                <option value="">선택</option>
                                <option value="롱">롱</option>
                                <option value="숏">숏</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>· 레버리지/비중:</label>
                            <input type="text" id="leverage-3" placeholder="자동 입력 / 수동 입력">
                        </div>
                        <div class="form-group">
                            <label>· 진입 근거:</label>
                            <textarea id="entry-reason-3" rows="3">- 볼린저밴드 상태: 
- RSI 지수: </textarea>
                        </div>
                        <div class="form-group-inline">
                            <label>· 익절(%):</label>
                            <input type="number" id="tp-3" placeholder="예: 10">
                            <label>· 손절(%):</label>
                            <input type="number" id="sl-3" placeholder="예: -5">
                        </div>
                        <div class="form-group-inline">
                            <label>· 결과:</label>
                            <input type="text" id="pnl-ratio-3" placeholder="%" readonly>
                            <input type="text" id="realized-pnl-3" placeholder="USDT" readonly>
                        </div>
                         <div class="form-group">
                            <label>· 복기:</label>
                            <textarea id="review-3" rows="3"></textarea>
                        </div>
                    </div>
                </section>
            </div>
            
            <button type="button" id="save-button" class="save-button">매매일지 텍스트 파일로 저장하기</button>

        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>